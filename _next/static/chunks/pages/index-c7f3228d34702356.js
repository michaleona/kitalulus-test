(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3678)}])},3678:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(7568),n=s(4924),r=s(6042),l=s(9396),i=s(4051),c=s.n(i),d=s(5893),o=s(7294),m=s(5426),x=s(8163),u=s(3740),p=s(5954),h=s(9771),f=s(4898),g=s(8057),y=s(3587),j=s(1);function N(){var e=(0,o.useState)(null),t=e[0],s=e[1],i=(0,o.useState)(!1),N=i[0],v=i[1],b=(0,o.useState)(!1),w=b[0],k=b[1],C=(0,o.useState)(!1),S=C[0],F=C[1],Z=(0,o.useState)(),E=Z[0],_=Z[1],T=(0,o.useState)(),I=T[0],P=T[1],O=(0,o.useState)(),R=O[0],V=O[1],z=(0,o.useState)(!1),L=z[0],U=z[1],X=(0,o.useState)(),D=X[0],G=X[1],J=(0,o.useState)(),q=J[0],A=J[1],B=(0,o.useState)(),H=B[0],K=B[1],M=(0,o.useState)(!1),Q=M[0],W=M[1];(0,o.useEffect)((function(){Y()}),[]),(0,o.useEffect)((function(){Q&&setInterval((function(){W(!1)}),3e3)}),[Q]),(0,o.useEffect)((function(){if(H&&(D||q)){var e,t=new RegExp(D,"gi"),a=new RegExp(q,"gi");if(D&&q)e=H.filter((function(e){return e.title.match(t)})).filter((function(e){return e.genre.match(a)}));else D?e=H.filter((function(e){return e.title.match(t)})):q&&(e=H.filter((function(e){return e.genre.match(a)})));s(e)}else s(H)}),[D,q]);var Y=function(){v(!0),fetch("https://andywiranata-42555.firebaseio.com/test-frontend/items.json").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e,t){return(0,l.Z)((0,r.Z)({},e),{id:t})}));s(t),v(!1)}))},$=function(){var e=(0,a.Z)(c().mark((function e(t){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://andywiranata-42555.firebaseio.com/test-frontend/items/".concat(t,".json"),{method:"PUT",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}});case 2:s=e.sent,s.json(),W(!0),U(!1),G(),A(),Y(),F(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){V((0,l.Z)((0,r.Z)({},R),(0,n.Z)({},e.target.id,e.target.value)))};return(0,o.useEffect)((function(){L?K(t):(s(H),K(null))}),[L]),(0,d.jsxs)(o.Fragment,{children:[(0,d.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-16",children:[(0,d.jsx)("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start",children:(0,d.jsx)("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:(0,d.jsx)(y.u,{show:Q,as:o.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden",children:(0,d.jsx)("div",{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(m.Z,{className:"h-6 w-6 text-green-400","aria-hidden":"true"})}),(0,d.jsx)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Successfully saved!"})}),(0,d.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,d.jsxs)("button",{type:"button",className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){W(!1)},children:[(0,d.jsx)("span",{className:"sr-only",children:"Close"}),(0,d.jsx)(x.Z,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})})})}),(0,d.jsx)("div",{className:"sm:flex sm:items-center",children:(0,d.jsx)("div",{className:"mt-4 sm:mt-0 sm:flex-none",children:(0,d.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 shadow-lg border-gray-300 text-sm rounded-full bg-[#0F2027] text-gray-300 font-bold tracking-wide",onClick:function(){return U(!L),F(!1),G(),void A()},children:L?(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(u.Z,{className:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"})," ","Close"]}):(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(p.Z,{className:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"}),"Filter"]})})})}),(0,d.jsx)("div",{className:"-mx-4 mt-8 overflow-hidden shadow-lg border-none sm:-mx-6 md:mx-0 md:rounded-lg",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,d.jsx)("thead",{className:"bg-[#0F2027]",children:(0,d.jsxs)("tr",{className:"text-gray-500",children:[(0,d.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-right text-sm sm:pl-6",children:"No"}),(0,d.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm lg:table-cell",children:"Title"}),(0,d.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-right text-sm sm:table-cell",children:"Views"}),(0,d.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm",children:"Genre"}),(0,d.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm",children:"Description"}),(0,d.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,d.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,d.jsxs)("tbody",{className:"divide-y divide-gray-700 bg-[#0F2027]",children:[L&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-300 lg:table-cell",children:(0,d.jsx)("input",{type:"text",name:"title-search",id:"title-search",className:"block w-full sm:text-sm border-gray-600 border rounded-md p-2 bg-transparent",placeholder:"Search title",value:D,onChange:function(e){return G(e.target.value)}})}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 lg:table-cell"}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-300 lg:table-cell",children:(0,d.jsx)("input",{type:"text",name:"genre-search",id:"genre-search",className:"block w-full sm:text-sm border-gray-600 border rounded-md p-2 bg-transparent",placeholder:"Search genre",value:q,onChange:function(e){return A(e.target.value)}})}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 lg:table-cell"}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 lg:table-cell"})]}),N?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:6,className:"text-gray-300 text-center p-8",children:"Loading ..."})}):t?t.map((function(e,t){return(0,d.jsxs)("tr",{className:"font-semibold",children:[(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-right text-gray-300 lg:table-cell",children:t+1}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-300 lg:table-cell",children:!S||S&&E!==t?(0,d.jsx)("span",{children:e.title}):(0,d.jsx)("input",{type:"text",name:"title",id:"title",className:"block w-full sm:text-sm border-gray-600 border rounded-md p-2 bg-transparent",placeholder:"Input title",value:R.title,onChange:function(e){return ee(e)}})}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-right text-gray-300 sm:table-cell",children:!S||S&&E!==t?(0,d.jsx)("span",{children:e.views.toLocaleString("en-US")}):(0,d.jsx)("input",{type:"number",name:"views",id:"views",className:"block w-full sm:text-sm border-gray-600 border rounded-md p-2 bg-transparent",placeholder:"Input views",min:"0",value:R.views,onChange:function(e){return ee(e)}})}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-300",children:!S||S&&E!==t?(0,d.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs tracking-wide bg-purple-100 text-purple-600",children:e.genre}):(0,d.jsx)("input",{type:"text",name:"genre",id:"genre",className:"block w-full sm:text-sm border-gray-600 border rounded-md p-2 bg-transparent",placeholder:"Input genre",value:R.genre,onChange:function(e){return ee(e)}})}),(0,d.jsx)("td",{className:"px-3 py-4 text-sm text-gray-300 flex space-x-2 items-center",children:!S||S&&E!==t?(0,d.jsxs)(o.Fragment,{children:[(0,d.jsxs)("span",{className:"max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",children:[e.descriptions," "]}),(0,d.jsxs)("a",{href:"#",className:"text-gray-500 hover:text-gray-700",onClick:function(){return t=e.descriptions,P(t),void k(!0);var t},children:[(0,d.jsx)(h.Z,{className:"h-4 w-4","aria-hidden":"true"}),(0,d.jsxs)("span",{className:"sr-only",children:[", ",e.id]})]})]}):(0,d.jsx)("textarea",{type:"text",name:"descriptions",id:"descriptions",className:"block w-full sm:text-sm border-gray-600 border rounded-md p-2 bg-transparent",placeholder:"Input descriptions",value:R.descriptions,onChange:function(e){return ee(e)}})}),(0,d.jsx)("td",{className:"py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:!S||S&&E!==t?(0,d.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-gray-500",onClick:function(){return function(e,t){F(!0),_(e),V(t)}(t,e)},children:[(0,d.jsx)(f.Z,{className:"h-4 w-4","aria-hidden":"true"}),(0,d.jsxs)("span",{className:"sr-only",children:[", ",t]})]}):(0,d.jsxs)("a",{href:"#",onClick:function(){return $(e.id)},children:[(0,d.jsx)(g.Z,{className:"h-4 w-4 text-green-600","aria-hidden":"true"}),(0,d.jsxs)("span",{className:"sr-only",children:[", ",t]})]})})]},e.index)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:6,className:"text-gray-300 text-center p-8",children:"No books available"})})]})]})})]}),(0,d.jsx)(y.u.Root,{show:w,as:o.Fragment,children:(0,d.jsxs)(j.V,{as:"div",className:"relative z-10",onClose:k,children:[(0,d.jsx)(y.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,d.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,d.jsx)("div",{className:"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0",children:(0,d.jsx)(y.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,d.jsxs)(j.V.Panel,{className:"relative bg-[#0F2027] rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full sm:p-6",children:[(0,d.jsx)("div",{className:"sm:flex sm:items-start",children:(0,d.jsx)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left",children:(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("p",{className:"text-sm text-gray-300",children:I})})})}),(0,d.jsx)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:(0,d.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-full border-2 border-gray-300 shadow-sm px-4 py-2 bg-transparent text-base font-bold text-gray-300 sm:mt-0 sm:w-auto sm:text-sm",onClick:function(){return k(!1)},children:"Close"})})]})})})})]})})]})}}},function(e){e.O(0,[257,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);